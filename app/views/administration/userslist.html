<div class="content-container" ng-controller="UserListController">
  <ul class="breadcrumb">
    <li><a href="#/system">{{'label.anchor.system' | translate}}</a></li>
    <li class="active">{{'label.anchor.users' | translate}}</li>
  </ul>
  <div class="widget mb30">
    <!-- <div class="toolbar">
      <h4 class="ptrbl0">{{'label.listOfUsers' | translate}}</h4>
    </div> -->
    
    
    <div class="row">
      <div class="col-md-3">
        <input ng-autofocus="true" ng-model="filterText" type="text" ng-keyup="onFilter()" class="span marginbottom0px form-control" placeholder="{{'label.input.filterbyname' | translate}}">
      </div>
      <div class="col-md-9">
        <ul class="btn-group-list text-right">
          <li><a href="#/createuser" class="btn primary_btn pull-right" has-permission='CREATE_USER'><i
          class="fa fa-plus"></i> {{'label.button.createuser' | translate}}</a></li>
        </ul>
        
      </div>
    </div>
    
  </div>
  
  
  
  <div class="widget">
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr class="graybg">
            <th>{{'label.username' | translate}}</th>
            <th>{{'label.heading.firstname' | translate}}</th>
            <th>{{'label.heading.lastname' | translate}}</th>
            <th>{{'label.heading.email' | translate}}</th>
            <th>{{'label.heading.office' | translate}}</th>
            <th>{{'table.actions' | translate}}</th>
          </tr>
        </thead>
        <tbody>
          <tr class="pointer-main" ng-repeat="user in users.currentPageItems| orderBy:'firstname':reverse |    filter:filterText">
            <td class="pointer" data-ng-click="routeTo(user.id)">{{user.username}}</td>
            <td class="pointer" data-ng-click="routeTo(user.id)">{{user.firstname}}</td>
            <td class="pointer" data-ng-click="routeTo(user.id)">{{user.lastname}}</td>
            <td class="pointer" data-ng-click="routeTo(user.id)">{{user.email}}</td>
            <td class="pointer" data-ng-click="routeTo(user.id)">{{user.officeName}}</td>
            <td><a has-permission="UPDATE_USER" href="#/edituser/{{user.id}}" uib-popover="Edit"
            popover-trigger="mouseenter" class="fa fa-edit"></a>&nbsp;
            <a has-permission="DELETE_USER" data-ng-click="deleteuser(user.id)" uib-popover="Delete"
            popover-trigger="mouseenter"><i class="fa fa-times"></i></a>
            <a has-permission="UPDATE_USER" data-ng-click="open(user.id)" uib-popover="change Password"
            popover-trigger="mouseenter" class="fa fa-cog"></a>&nbsp;
          </td>
        </tr>
      </tbody>
    </table>
    <ul class="pager">
			   <li class="previous">
				   <a data-ng-click="users.previous()" href="" 
				   	  data-ng-disabled="!users.hasPrevious()">&larr; {{ 'label.Prev' | translate }}</a>
			   </li>
			   <li class="next" >
				   <a data-ng-click="users.next()" href="" 
				      data-ng-disabled="!users.hasNext()">{{ 'label.Next' | translate }} &rarr;</a>
			   </li>
		   </ul>
  </div>
  
  <script type="text/ng-template" id="password.html">
  <div class="modal-header silver">
    <h3 class="bolder">{{'label.changepassword' | translate}}</h3>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-md-12">
        <div class="form-group row">
          <div class="col-md-4">
            <label class="control-label" for="password">{{ 'label.password' | translate }}</label>
          </div>
          <div class="col-md-8">
            <input type="password" id="password" class="form-control" ng-model="formData.password">
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="form-group row">
          <div class="col-md-4">
            <label class="control-label" for="repeatPassword">{{ 'label.repeatpassword' | translate }}</label>
          </div>
          <div class="col-md-8">
            <input type="password" id="repeatPassword" class="form-control" ng-model="formData.repeatPassword">
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer silver">
    <button class="btn btn-warning" ng-click="cancel()">{{'label.cancel' | translate}}</button>
    <button class="btn btn-primary" ng-click="save()">{{'label.save' | translate}}</button>
  </div>
  </script>
  <script type="text/ng-template" id="deleteuser.html">
  <div class="modal-header silver">
    <h3 class="bolder">{{'label.delete' | translate}}</h3>
  </div>
  <div class="modal-body style="height: 60px;">
    <h4 class="text-center">Are you sure?</h4>
  </div>
  <div class="modal-body modal-middle full-right">
    <button class="btn btn-warning" ng-click="cancel()">{{'label.cancel' | translate}}</button>
    <button class="btn btn-primary" ng-click="delete()">{{'label.confirm' | translate}}</button>
  </div>
  </script>
</div>
</div>