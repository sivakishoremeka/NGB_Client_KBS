<div class="content-container" ng-controller="ProspectsController">
    <ul class="breadcrumb">
        <li class="active">{{'label.prospects' | translate}}&nbsp;&nbsp;</li>
    </ul>
        <div class="widget mb30">
                <!-- <div class="toolbar ptb15 mrl15 bb1 mb20">
                    <h4 class="ptrbl0">{{'label.prospects' | translate}}</h4>
                </div> -->
              <div class="row align-items-center">
                 <div class="col-md-3">
                        <form rc-submit="search(filterText)"   >
                            <input ng-autofocus="true"  ng-model="filterText" type="text" ng-keyup="onFilter()" class="form-control" placeholder="{{'label.input.searchforleads' | translate}}">
                        </form>
                    </div>
                     <div class="col-md-9">
                        <ul class="btn-group-list text-right">
                            <li>
                              <a has-permission = CREATE_PROSPECT  href="#/createprospects" class="btn primary_btn pull-right"><i class="fa fa-plus"></i> {{ 'link.create.new.prospect' | translate }}</a></li>
                        </ul>
                     </div>
                 </div>
            </div>

        <div class="widget">
            <table class="table table-striped">
                <thead>
                    <tr>
                    <!-- <th>{{ 'table.heading.prospectId' | translate }}</th> -->
                        <th>{{ 'table.heading.username' | translate }}</th>
                        <th>{{ 'table.heading.name' | translate }}</th>
                        <th>{{ 'table.heading.emailId' | translate }}</th>
                        <th>{{ 'table.heading.phonenumber' | translate }}</th>
                        <th>{{ 'table.heading.address' | translate }}</th>           
                        <th>{{ 'table.heading.status' | translate }}</th>
                        <th>{{ 'table.heading.remarks' | translate }}</th>
                        <th>{{ 'table.action' | translate }}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="pointer-main" data-ng-repeat="prospect in prospects.currentPageItems | filter:filterText">                      
                        <!-- <td class="pointer" data-ng-click="routeTo(prospect.id)">{{prospect.id}}</td> -->
                        <td class="pointer" data-ng-click="routeTo(prospect.id)">{{prospect.username}}</td>
                        <td class="pointer" data-ng-click="routeTo(prospect.id)">{{prospect.firstName}}&nbsp{{prospect.lastName}}</td>
                        <td class="pointer" data-ng-click="routeTo(prospect.id)">{{prospect.email}}</td>
                                 
                        <td class="pointer" data-ng-click="routeTo(prospect.id)">{{prospect.mobileNumber}}</td>  
                        <td class="pointer" data-ng-click="routeTo(prospect.id)">{{prospect.address}},{{prospect.streetArea}},{{prospect.cityDistrict}}</td>        
                        <td class="pointer" data-ng-click="routeTo(prospect.id)">{{prospect.status}}</td>
                         <td class="pointer" data-ng-click="routeTo(prospect.id)">{{prospect.statusRemark}}</td>
                        <td>
                        <span ng-show="prospect.status != 'Converted'&& prospect.status != 'Cancelled'">
                        <a href="#/followprospects/{{prospect.id}}" data-ng-show="getVal(prospect.status)"
                           has-permission = FOLLOWUP_PROSPECT uib-popover="followup" data-popover-trigger="mouseenter" ><i class="fa fa-clock-o"></i></a>
                        </span>
                         <span ng-show="prospect.status =='New'||prospect.status=='Prospect'">
                        <a data-ng-click="convertProspect(prospect.id)" data-ng-show="getVal(prospect.status)"
                               has-permission = "CONVERT_PROSPECT && CREATE_CLIENT" uib-popover="convert to client"
                               data-popover-trigger="mouseenter" ><i class="fa fa-user"></i></a> </span>
                         <span ng-show="prospect.status =='New'">
                        <a href="#/editprospects/{{prospect.id}}" data-ng-show="getVal(prospect.status)"
                           has-permission = UPDATE_PROSPECT uib-popover="Edit" data-popover-trigger="mouseenter" ><i class="fa fa-edit"></i></a></span>
                         <!-- <span ng-show="prospect.status != 'Converted'&& prospect.status != 'Cancelled'">
                        <a href="#/generatequote/{{prospect.id}}" data-ng-show="getVal(prospect.status)"
                           has-permission = GENERATE_QUOTE uib-popover="generateQuote" data-popover-trigger="mouseenter" ><i class="fa fa-book "></i></a>
                        </span> -->
                         <span ng-show="prospect.status =='New'||prospect.status=='Prospect'">
                        <a href="#/cancelprospects/{{prospect.id}}" data-ng-show="getVal(prospect.status)"
                           has-permission = DELETE_PROSPECT uib-popover="cancel" data-popover-trigger="mouseenter" ><i class="fa fa-times"></i></a>
                        </span>
                        </td>                     
                    </tr>
                </tbody>
            </table>
            <ul class="pager">
                <li class="previous"><a data-ng-click="prospects.previous()" href="" data-ng-disabled="!prospects.hasPrevious()">&larr; {{ 'label.prev' | translate }} </a></li>
                <li class="next" ><a data-ng-click="prospects.next()" href="" data-ng-disabled="!prospects.hasNext()"> {{ 'label.next' | translate }} &rarr;</a></li>
            </ul>
        </div>
    </div>



 
