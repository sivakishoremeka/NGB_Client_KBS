<div class="content-container">
	<ul class="breadcrumb">
		<li><a href="#/users">{{'label.anchor.users' | translate}}</a></li>
		<li class="active">{{'label.anchor.createuser' | translate}}</li>
	</ul>
	<div class="widget">
		<form name="createuserform" novalidate="" class="card form-horizontal well" ng-controller="CreateUserController"
			rc-submit="submit()">
		<api-validate></api-validate>
		
		<h3>Create User</h3>
		<!-- <legend>{{'label.heading.createuser' | translate}}</legend> -->
		<div class="row"><!-- 1st row -->
		<div class="col-md-6">
			<div class="form-group row">
				<div class="col-md-4">
					<label class="control-label" for="username">{{'label.input.username' | translate}}<span
					class="required">*</span></label>
				</div>
				<div class="col-md-8">
					<input type="text" id="username" name="username" ng-model="formData.username" class="form-control" required late-Validate/>
				</div>
				<div class="col-md-12">
					<form-validate valattributeform="createuserform" valattribute="username"/>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="form-group row">
					<div class="col-md-4">
						<label class="control-label" for="firstname">{{'label.input.firstname' | translate}}<span
						class="required">*</span></label>
					</div>
					<div class="col-md-8">
						<input type="text" id="firstname" name="firstname" ng-model="formData.firstname" class="form-control" required
						ng-pattern="/(^[A-z])[A-z.'-]*/" late-Validate/>
					</div>
					<div class="col-md-12">
						<span ng-show="createuserform.firstname.$invalid && createuserform.firstname.$dirty">
							<small class="error required" ng-show="createuserform.firstname.$error.pattern">
							{{'validation.msg.client.name.cannot.start.specialchar.ornumber' | translate}}
							</small>
						</span>
						<form-validate valattributeform="createuserform" valattribute="firstname"/>
						</div>
					</div>
				</div>
				</div><!-- 1st row end-->
				<div class="row"><!-- 2nd row -->
				<div class="col-md-6">
					<div class="form-group row">
						<div class="col-md-4">
							<label class="control-label" for="lastname">{{'label.input.lastname' | translate}}<span
							class="required">*</span></label>
						</div>
						<div class="col-md-8">
							<input type="text" id="lastname" name="lastname" ng-model="formData.lastname" class="form-control" required
							ng-pattern="/(^[A-z])[A-z.'-]*/" late-Validate/>
						</div>
						<div class="col-md-12">
							<span ng-show="createuserform.lastname.$invalid && createuserform.lastname.$dirty">
								<small class="error required" ng-show="createuserform.lastname.$error.pattern">
								{{'validation.msg.client.name.cannot.start.specialchar.ornumber' | translate}}
								</small>
							</span>
							<form-validate valattributeform="createuserform" valattribute="lastname"/>
							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div data-ng-switch on="formData.sendPasswordToEmail">
							<div data-ng-switch-when="true">
								<div class="form-group row">
									<div class="col-md-4">
										<label class="control-label" for="email">{{'label.input.email' | translate}}<span
										class="required">*</span></label>
									</div>
									<div class="col-md-8">
										<input type="email" id="email" name="email" class="form-control" ng-model="formData.email" required late-Validate/>
									</div>
									<!-- <div class="col-sm-3">
												<form-validate valattributeform="createuserform" valattribute="email"/>
										</div> -->
										<div class="col-md-12">
											<div data-ng-show="createuserform.email.$dirty && createuserform.email.$invalid">
												<small class="error" data-ng-show="createuserform.email.$error.email"> {{'label.prospect.error.email' | translate}} </small>
											</div>
											
											<div data-ng-switch-when="false">
												<div class="form-group" data-ng-show="!formData.sendPasswordToEmail">
													<label class="control-label" for="email1">{{'label.input.email' | translate}}</label>
													<div class="col-sm-3">
														<input type="email" id="email1" name="email1" class="form-control" ng-model="formData.email"/>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						</div><!-- 2nd row end-->
						<div class="row"><!-- 3rd row -->
						<div class="col-md-6">
							<div class="form-group row">
								<div class="col-md-4">
									<label class="control-label">{{'label.input.autogeneratepassword' | translate}}</label>
								</div>
								<div class="col-md-8">
									<label class="checkbox">
										<input type="checkbox" ng-model="formData.sendPasswordToEmail">
									</label>
								</div>
								<!-- <label class="control-label col-sm-3">{{'label.input.overridepasswordexpiry' | translate}}
											<i class="fa fa-question-circle control-label fa fa-align-left"
								uib-tooltip="{{'label.tooltip.overridepasswordexpiry' | translate}}"></i></label>
								<div class="col-sm-3">
											<label class="checkbox">
																<input type="checkbox" ng-model="formData.passwordNeverExpires">
												</label>
								</div> -->
							</div>
						</div>
						<div class="col-md-6">
							<!-- <div data-ng-switch on="formData.sendPasswordToEmail"> -->
							<!-- <div data-ng-switch-when="false"> -->
							<div class="form-group row">
								<div class="col-md-4">
									<label class="control-label" for="password">{{'label.input.password' | translate}}<span
									class="required">*</span></label>
								</div>
								<div class="col-md-8">
									<input type="password" id="password" name="password" ng-model="formData.password" class="form-control" required
									late-Validate>
								</div>
								<div class="col-sm-3">
									<form-validate valattributeform="createuserform" valattribute="password"/>
									</div>
								</div>
								<!-- </div> -->
								<!-- </div> -->
							</div>
							</div><!-- 3rd row end-->
							
							<div class="row"><!-- 4th row-->
							<div class="col-md-6">
								<div class="form-group row">
									<div class="col-md-4">
										<label class="control-label" for="repeatPassword">{{'label.input.repeatpassword' | translate}}<span
										class="required">*</span></label>
									</div>
									<div class="col-md-8">
										<input type="password" id="repeatPassword" name="repeatPassword" class="form-control"
										ng-model="formData.repeatPassword" required late-Validate>
									</div>
									<div class="col-md-12">
										<form-validate valattributeform="createuserform" valattribute="repeatPassword"/>
										</div>
									</div>
								</div>
								
								<div class="col-md-6">
									<div class="form-group row">
										<div class="col-md-4">
											<label class="control-label">{{'label.input.office' | translate}}<span class="required">*</span></label>
										</div>
										<div class="col-md-8">
											<select chosen="offices" id="officeId" ng-model="formData.officeId" class="form-control" data-ng-change="getOfficeStaff()" ng-options="office.id as office.name for office in offices" value="{{office.id}}">
												<option value="">{{'label.menu.selectoffice' | translate}}</option>
											</select>
										</div>
									</div>
								</div>
								</div><!-- 4th row end-->
								<!-- <div class="form-group">
											<label class="control-label col-sm-2">{{'label.input.staff' | translate}}</label>
											<div class="col-sm-3">
														<select chosen="staffs" id="staffId" ng-model="formData.staffId"  class="form-control"
																	ng-options="staff.id as staff.displayName for staff in staffs" value="{{staff.id}}">
																	<option value="">--{{'label.menu.selectstaff' | translate}}--</option>
														</select>
											</div>
								</div> -->
								<div class="row"><!-- 5th row-->
								<div class="col-md-6">
									<div class="form-group row">
										<div class="col-md-4">
											<label class="control-label">{{ 'label.input.availableroles' | translate }}</label>
										</div>
										<div class="col-md-8">
											<select id="availableroles" ng-model="available" name="availableroles" class="form-control multiselectmin" multiple>
												<option ng-repeat="availablerole in availableRoles" value="{{availablerole.id}}">
													{{availablerole.name}}
												</option>
											</select>
										</div>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group row">
										<div class="col-md-4">
											<label class="control-label">{{ 'label.input.selectedroles' | translate}}<span
											class="required">*</span></label>
										</div>
										<div class="col-md-8">
											<select id="roles" name="roles" ng-model="selected" name="role" class="form-control multiselectmin" multiple>
												<option ng-repeat="availablerole in selectedRoles" value="{{availablerole.id}}">
													{{availablerole.name}}
												</option>
											</select>
										</div>
									</div>
								</div>
								</div><!-- 5th row end-->
								<ul class="btn-group-list text-center mt20 mb20">
									
									<li><button type="button" class="btn btn-primary" data-ng-click="removeRole()"><i
									class="fa fa-angle-double-left"></i></button></li>
									<li><button type="button" class="btn btn-primary" data-ng-click="addRole()"><i
									class="fa fa-angle-double-right"></i></button></li>
								</ul>
								<ul class="btn-group-list text-right mt20 mb20">
									<li><a href="#/users" ><button id="cancel" class="btn btn-warning">{{'label.button.cancel' | translate}}</button></a></li>
									<li><button id="save" type="submit" has-permission='CREATE_USER' class="btn btn-primary">{{'label.button.save' | translate}}</button></li>
								</ul>
								
							</form>
						</div>
					</div>