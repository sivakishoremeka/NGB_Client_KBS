<div class="content-container" data-ng-controller="BookYourPlanController">
    <ul class="breadcrumb">
        <li><a href="#/clients">{{'label.anchor.customers' |
                translate}}</a></li>
        <li><a href='#/viewclient/id/{{clientId}}'>{{'label.anchor.viewcustomer'
                | translate}}</a></li>
        <li class="active">{{'label.bookYourPlan' | translate}}</li>
    </ul>
    <div>
    <form name="bookYourPlan">
        <div class="card" style="height: 54px;">
            <div class="content">
                <div class="toolbar">
                    <div class="" style="margin: -20px;">
                        <div ng-if="!isService">
                            <div class="form-group">
                                <label class="control-label col-sm-1" for="service">{{'label.service'
                                    | translate }}</label>
                                <div class="col-sm-2">
                                    <select id="serviceId" data-ng-model="formData.serviceId"
                                        class="form-control" name="serviceId"
                                        data-ng-options="serviceDatas.id as getBothService(serviceDatas.serviceCode, serviceDatas.serviceDescription) for serviceDatas in serviceData"
                                        ng-change="changeServiceFun()" required>
                                        <option value="">{{'label.select.one' | translate}}</option>
                                    </select> <span data-ng-show="clientserviceinfoform.serviceId.$invalid">
                                        <span class="error"
                                        data-ng-show="clientserviceinfoform.serviceId.$error.req">Required
                                            Field</span>
                                    </span>
                                </div>
                                <div ng-if="formData.serviceId">
                                    <div data-ng-repeat="serviceDetails in serviceDetail">
                                        <label class="control-label col-sm-1">{{serviceDetails.codeParamName}}</label>
                                        <div class="col-sm-2">
                                            <span> <input
                                                ng-if="serviceDetails.paramType != 'Combo' && serviceDetails.paramType != 'Boolean' && serviceDetails.paramType != 'Date'"
                                                class="form-control" type="text" name="paramValue"
                                                data-ng-model="serviceDetails.paramValue" required /> <select
                                                ng-if="serviceDetails.paramType == 'Combo'" id="paramValue"
                                                data-ng-model="serviceDetails.paramValue"
                                                class="form-control" name="paramValue"
                                                data-ng-options="detail.id as detail.systemcode for detail in serviceDetails.details"
                                                required>
                                                    <option value="">{{'label.select.one' |
                                                        translate}}</option>
                                            </select> <select ng-if="serviceDetails.paramType == 'Boolean'"
                                                id="paramValue" data-ng-model="serviceDetails.paramValue"
                                                class="form-control" name="paramValue"
                                                data-ng-options="paramValue for paramValue in paramValues"
                                                required>
                                            </select> <input type="text"
                                                ng-if="serviceDetails.paramType == 'Date'"
                                                data-datepicker-pop="yyyy-MM-dd" id="paramValue"
                                                data-ng-model="serviceDetails.paramValue"
                                                data-is-open="opened2" min="minDate" max="'2020-06-22'"
                                                class="form-control" name="paramValue"
                                                data-date-disabled="disabled(date, mode)"
                                                style="background-color: #FFFFFF;" required /> <span
                                                data-ng-show="clientserviceinfoform.paramValue.$invalid">
                                                    <span class="error"
                                                    data-ng-show="clientserviceinfoform.paramValue.$error.req">Required
                                                        Field</span>
                                            </span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>stb
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-1" for="STB">{{'label.stb'
                                | translate }}&nbsp; <span class="required">*</span>
                            </label>
                            <div class="col-sm-2 ml-64">
                                <input type="text" data-ng-model="itemDetail"
                                    name="serialNumber" class="form-control"
                                    uib-typeahead="itemDetail as itemDetail for itemDetail in getData($viewValue)"
                                    autocomplete="off"
                                    data-typeahead-on-select="getItemData($item, $model, $label)"
                                    data-typeahead-min-length="0" required> <span
                                    data-ng-show="deviceinfoform.serialNumber.$invalid"> <span
                                    class="error"
                                    data-ng-show="deviceinfoform.serialNumber.$error.req">Required
                                        Field</span>
                                </span>
                            </div>

                            <label class="control-label col-sm-1 ml80" for="SC">{{'label.sc'
                                | translate }}<span class="required">*</span>
                            </label>
                            <div class="col-sm-2 ml-154">
                                <input type="text" id="pairableSerialNo" name="pairableSerialNo"
                                    data-ng-model="pairableSerialNo" class="form-control"
                                    autocomplete="off" list="pairableItemlist"
                                    data-ng-change="selectPairableItemDetails(pairableSerialNo)"
                                    required />
                                <datalist id="pairableItemlist">
                                    <option
                                        data-ng-repeat="pairableItemDetail in pairableItemDetails"
                                        value="{{pairableItemDetail}}">
                                </datalist>
                                <span data-ng-show="deviceinfoform.pairableSerialNo.$invalid">
                                    <span class="error"
                                    data-ng-show="deviceinfoform.pairableSerialNo.$error.req">Required
                                        Field</span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

<fieldset>

        <div class="row" >
            <div class="">
                <div class="">
                    <div class="col-sm-12">
                        <div class="col-sm-6 card" style="margin:12px 7px 0px -7px;height:393px; ">
                            <!--  <fieldset> -->
                            <h3 style="margin:0px;">{{'label.packs' | translate}}</h3>
                            <div class="form-inline pull-right col-sm-3">
                               
                                <label class="control-label " for="count">{{'label.count' | translate }}</label>
                                <input type="text" id="pack"
                                        data-ng-model="formData.count"  disabled class="form-control" style="width:60%;"/>
                                </div>
                           
                            <br />
                            <br />
                            <div class="form-group" style="margin:44px -10px;">
                                <div class="col-sm-3" style="width:170px;margin:0px 0px 0px 10px;">
                                    <label class="control-label" style="margin:0px;">{{
                                        'label.availableproduct' | translate }}</label> <label
                                        class="control-label" > <input ng-autofocus="true"
                                        ng-model="filterText" type="text" ng-keyup="onFilter()"
                                        class="form-control"
                                        placeholder="{{'label.input.filterbyname' | translate}}" id="fil75">
                                    </label> <select  style="width:240px;margin:-5px 0px 0px 0px;" id="availableproducts" ng-model="allowed"
                                         name="allowed"
                                        class="form-control multiselectmin" multiple
                                        data-ng-options=" availableProduct.productId as getBothProduct(availableProduct.productcode, availableProduct.productDescription) for availableProduct in availableProductPacks ">
                                        <option
                                            data-ng-repeat="availableProduct in availableProductPacks | filter:filterText "
                                            value="{{availableProduct.productId}}">{{availableProduct.productDescription)}}</option>
                                    </select>
                                </div>
                                <div class="col-sm-1"
                                    style="margin:28px 0px 0px 90px ;">
                                    <br>
                                    <br>
                                    <br>
                                    <br>
                                    <button type="button" class="btn btn-primary"
                                        data-ng-click="restrict();selectedProductChannels()">
                                        <i class="fa fa-angle-double-right"></i>
                                    </button>
                                    <br />
                                    <button type="button" class="btn btn-primary"
                                        data-ng-click="allow();removedProductChannels()">
                                        <i class="fa fa-angle-double-left"></i>
                                    </button>
                                </div>
                                <div class="col-sm-3"
                                    style="margin: 0px 0px 0px 20px;">
                                    <label class="control-label" style="margin:0px -18px">{{ 'label.selectedproduct'
                                        | translate }}</label> <label class="control-label" style="margin:0px -16px;"> <input
                                        ng-autofocus="true" ng-model="filterText1" type="text"
                                        ng-keyup="onFilter()" class="form-control"
                                        placeholder="{{'label.input.filterbyname' | translate}}" id="fil75">
                                    </label> <select style="width:240px;margin:0px 0px 0px -16px;" id="selectedproducts" ng-model="restricted"
                                         name="restricted"
                                        class="form-control multiselectmin" multiple
                                        data-ng-options="selectedProduct.productId as getBothProduct(selectedProduct.productcode, selectedProduct.productDescription) for selectedProduct in selectedProductPacks">
                                        <option
                                            data-ng-repeat="availableProduct in availableProducts | filter:filterText1"
                                            value="{{availableProduct.productId}}">{{availableProduct.productDescription)}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        
                        <div class="col-sm-6 card" style="margin:12px -7px 0px 7px;">
                            <h3 style="margin:0px;">{{'label.alocat' | translate}}</h3>
                            <span class="form-inline" style="margin:0px 0px 0px 240px;">
                                <label class="control-label" 
                                    for="channelCategory">{{ 'label.Genre' | translate
                                    }}&nbsp;<span class="required">*</span>
                                </label>
                              
                                    <select id="channelCategory"
                                        data-ng-model="formData.channelCategory" style="width:25%;"
                                        data-ng-change="channelCategoryChangeFun()"
                                        data-ng-options="channelCategory for channelCategory in channelCategorys"
                                        class="form-control">
                                        <option value="">{{'label.select.one' | translate}}</option>
                                    </select>
                                </span>

                                <span class="form-inline col-sm-3 pull-right">
                                    <label class="control-label"
                                         for="count">{{
                                        'label.count' | translate }}</label>
                                  
                                        <input type="text" id="count" data-ng-model="formData.count1"
                                            disabled class="form-control" style="width:62%;" />
                                    </span>
                                
                                <br/>
                            <br/>
                            <div class="form-group" style="margin:30px -5px;">
                                <div class="col-sm-9 col-md-3" style="width:170px;margin:0px 0px 0px 4px;">
                                    <label class="control-labels" style="margin:0px;">{{
                                        'label.availableproduct' | translate }}</label> <label
                                        class="control-label col-sm-20" style="margin:1px"> <input
                                        ng-autofocus="true" ng-model="filterText2" type="text"
                                        ng-keyup="onFilter()" class="form-control"
                                        placeholder="{{'label.input.filterbyname' | translate}}" id="fil75">
                                    </label> <select id="availableproducts" ng-model="allowed"
                                        style="width:240px;" name="allowed"
                                        class="form-control multiselectmin" multiple
                                        data-ng-options="availableProduct.productId as getBothProducts(availableProduct.productcode, availableProduct.productDescription) for availableProduct in availableProducts">
                                        <option
                                            data-ng-repeat="availableProduct in availableProducts | filter:filterText | unique : availableProduct.productId "
                                            value="{{availableProduct.productId}}">{{availableProduct.productDescription)}}</option>
                                    </select>
                                </div>
                                <div class="col-sm-1"
                                    style="margin:26px 0px 0px 90px;">
                                    <br>
                                    <br>
                                    <br>
                                    <br>
                                    <button type="button" class="btn btn-primary"
                                        data-ng-click="restricts()">
                                        <i class="fa fa-angle-double-right"></i>
                                    </button>
                                    <br />
                                    <button type="button" class="btn btn-primary"
                                        data-ng-click="allows()">
                                        <i class="fa fa-angle-double-left"></i>
                                    </button>
                                </div>
                                <div class="col-md-3"
                                    style="margin:0px 0px 0px 4px;width:170px;">
                                    <label class="control-label" style="margin:1px;">{{ 'label.selectedproduct'
                                        | translate }}</label> <label class="control-label col-sm-20" style="margin:0px;">
                                        <input ng-autofocus="true" ng-model="filterText3" type="text"
                                        ng-keyup="onFilter()" class="form-control"
                                        placeholder="{{'label.input.filterbyname' | translate}}" id="fil75">
                                    </label> <select id="selectedproducts" ng-model="restricted"
                                        style="width:240px;" name="restricted"
                                        class="form-control multiselectmin" multiple
                                        data-ng-options="selectedProduct.productId as getBothProducts(selectedProduct.productcode, selectedProduct.productDescription) for selectedProduct in selectedProducts">
                                        <option
                                            data-ng-repeat="availableProduct in availableProducts | filter:filterText1 | unique : selectedProduct.productId "
                                            value="{{availableProduct.productId}}">{{availableProduct.productDescription)}}</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-sm-6 pull-right" style="margin:22px 0px 14px 0px;">
                                <a href="#/clients"><button id="cancel" type="reset" class="btn btn-warning"
                                        ng-click="reset123()">{{'button.cancel'| translate}}</button></a>
                                <button id="calculate" type="calculate"  data-ng-click="calculate()"
                                        class="btn btn-primary" >{{'button.calculate'|
                                    translate}}</button>
                                <button id="submit" type="submit"
                                    data-ng-click="submit()" class="btn btn-primary">{{'button.activate'|
                                    translate}}</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div></fieldset
    </div>
</form>
</div>
<script type="text/ng-template" id="calculation.html">
         <div class="modal-content">
            <div class="modal-header silver">
                <h3 class="bolder">Calculation</h3>
             </div>
            
              <div class="row">
                    <div class="col-sm-8 col-md-8 col-md-offset-2 ">
                        <table class="table view-table table-bordered table-striped">
                            <tr>
                                <th>{{ 'label.bouqueprices' | translate }}</th>
                                <td class="col-md-3">{{formDatas.bouqueprices}}</td>
                            </tr>
                            <tr>
                                <th>{{ 'label.nonBouqueprices' | translate }}</th>
                                <td>{{formDatas.nonBouqueprices}}</td>
                            </tr>
                            <tr>
                                <th>{{ 'label.slabPrice' | translate }}</th>
                                <td>{{formDatas.slabPrice}}</td>
                            </tr>
                            <tr>
                                <th>{{ 'label.total' | translate }}</th>
                                <td>{{formDatas.total}}</td>
                            </tr>
                        </table>
                    </div>
                    </div>

            <div class="modal-footer">
            <button id="cancel" class="btn btn-warning" ng-click="cancelQuantity()">{{'button.cancel' | translate}}</button>
         </div>
        </div>
        </script>
        </div>