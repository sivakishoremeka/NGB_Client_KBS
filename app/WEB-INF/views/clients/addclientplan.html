<div class="content-container" ng-controller="AddClientPlanController">
    <ul class="breadcrumb">
        <li><a href="#/clients">{{'label.anchor.customers' | translate}}</a></li>
		<li><a href='#/viewclient/id/{{clientId}}'>{{'label.anchor.viewcustomer' | translate}}</a></li>
		<li class="active">{{'label.createorder' | translate}}</li>
    </ul>
    <div ng-include="'views/clients/viewclienttopinfo.html'"></div>
     <div class="widget">
    	<div class="content" ng-if="!isCrm">
    		<h3>{{'label.createorder' | translate}}</h3>
   			<form class="form-horizontal">
   			<div uib-alert type="danger" ng-show=" errorDetails.length > 0">
		 		<label><i class="fa fa-exclamation-circle"></i>Plan is Not Creating</label>
		 		<div ng-repeat="error in errorDetails"><label>{{error.code | translate:error.args}}</label></div>
			</div>
               <!-- <div class="col-sm-6">
       				 <div class="form-group">
		            		<label class="control-label col-sm-4" for="id">{{ 'label.salescataloge' | translate }}<span class="required">*</span></label>
			            	<div class="col-sm-4">
			              		<select id="id" data-ng-model="formData.id" data-ng-change="serviceChangeFun(formData.id)"
			              		        data-ng-options="salesCataloges.id as salesCataloges.name for salesCataloges in salesCataloges" class="form-control">
			              		<option  value="">{{'label.select.one' | translate}}</option>
			              		</select>
			            	</div>
			            </div>
						<div>
				            <div>
				                <div class="activation-collapse" data-ng-click="collapseOthers()" style="background-color:#f5f5f5;padding:10px;">
				                	<strong>Post Paid</strong>&nbsp;&nbsp;&nbsp;&nbsp;
				                	<span class="pull-right">
				                		<i class="fa fa-chevron-up"  data-ng-show="!isCollapsed"></i>
				                		<i class="fa fa-chevron-down"  data-ng-show="isCollapsed"></i>
				                	</span>
				                </div>
				            </div><br>
				            <div>
					            <div uib-collapse="isCollapsed">
			           				<table class="table table-striped table-condensed table-hover" ng-style="{ width:650 }">
					               		<thead>
					               		 	<tr>
					                			<td  colspan="2" >
					                				<input ng-model="filterText" type="text" style="width:23em;" class="form-control" placeholder="Filter by Plan">
					                		   	</td>
					                	    </tr>
					                    	<tr>
					                       		<th class="id">Select&nbsp;</th>
					                        	<th class="planCode">Plan&nbsp;</th>
					                 	   	</tr>
					                	</thead>
					                	<tbody>
					                		<tr ng-repeat="postpaidPlanData in postpaidPlanDatas  | filter:filterText" ng-show="postpaidPlanData.isPrepaid == 'N'">
					                	   		<td>
					                	   			<input type="radio" id="{{postpaidPlanData.id}}" name="planCode" value="postpaidPlanData.id" 
					                	   				ng-click='setBillingFrequency(postpaidPlanData.id)'/>
					                	   		</td>
					                	   		 <td ng-show="postpaidPlanData.isPrepaid == 'N'">
					                              <label for="{{postpaidPlanData.id}}" >{{postpaidPlanData.planCode}}-
					                     		     <any ng-repeat="services in postpaidPlanData.availableServices">
					                       			    {{services.productDescription}} 
					                         	  	   <any ng-hide="$last">,</any>
					                        	     </any>
					                              </label>
					                           </td>
					                	   </tr>
					                     </tbody>
					            	</table>
					            </div>
				            </div>
				    	</div><br>		First Collapse End 
				    	prepaid plan
				    	<div>
	            			<div>
	                			<div class="activation-collapse" data-ng-click="collapsePrepaidPlanOthers()"  style="background-color:#f5f5f5;padding:10px;">
	                				<strong>Prepaid Plan</strong>
	                				<span class="pull-right">
	                					<i class="fa fa-chevron-up"  data-ng-show="!prepaidPlanCollapsed"></i>
	                					<i class="fa fa-chevron-down"  data-ng-show="prepaidPlanCollapsed"></i>
	                				</span>
	                			</div>
	            			</div><br>
	            			<div uib-collapse="PrepaidPlanCollapsed">
								<table class="table table-striped table-condensed table-hover" ng-style="{ width:650 }">
				               		 <thead>
				               		 	<tr>
				                		   <td colspan="2" >
				                			  <input ng-model="filterText" type="text" style="width:23em;" class="form-control" placeholder="Filter by Plan">
				                		   </td>
				                	    	</tr>
				                    	<tr>
				                       		<th class="id">Select&nbsp;</th>
				                        	<th class="planCode">Plan&nbsp;</th>
				                 	   </tr>
				                	</thead>
				                	 <tbody>
				                	   <tr ng-repeat="prepaidPlanData in prepaidPlanDatas  | filter:filterText" ng-show="prepaidPlanData.isPrepaid == 'Y'">
				                	   		<td>
				                	   			<input type="radio" id="{{prepaidPlanData.id}}" name="planCode" value="prepaidPlanData.id" 
				                	   				ng-click='setBillingFrequency(prepaidPlanData.id)'/>
				                	   		</td>
				                	   		 <td ng-show="prepaidPlanData.isPrepaid == 'Y'">
				                              <label for="{{prepaidPlanData.id}}" >{{prepaidPlanData.planCode}}-
				                     		     <any ng-repeat="services in prepaidPlanData.availableServices">
				                       			    {{services.productDescription}} 
				                         	  	   <any ng-show="services">,</any>
				                        	     </any>
				                              </label>
				                           </td>
				                	   </tr>
				                     </tbody>
				                  </table>								
	            			</div>
        				</div>2nd Collapse End			    	
    				</div>First Col End -->
        				<div class="row">
        					<div class="col-md-6">
        						<div class="form-group row">
	        						<div class="col-md-4">
		                          	    <label class="control-label" for="dateTime">{{ 'label.order.startdate' | translate }}</label>
		                             </div>
	                            <div class="col-md-8">
	                          		<input ng-model="dateTime" is-open="opened" min="minDate" max="maxDate" class="form-control" date-disabled="disabled(date, mode)" required late-Validate style="background-color:#FFFFFF;"  readonly/>
	                         	</div>
                              </div>
        					</div>
        					<div class="col-md-6">
        						<div class="form-group row">
	        						<div class="col-md-4">
		                          	 <label class="control-label " for="id">{{ 'label.salescataloge' | translate }}</label>
		                             </div>
	                            <div class="col-md-8">
	                          		<select  data-ng-model="salesCataloge" data-ng-change="serviceChangeFun(salesCataloge)" data-ng-options="salesCataloge as salesCataloge.name for salesCataloge in salesCataloges" class="form-control">
				              		<option  value="">{{'label.select.one' | translate}}</option>
				              		</select>
	                         	</div>
                              </div>
        					</div>
        				</div>

        				<div class="row">
        					<div class="col-md-6">
        						<div class="form-group row">
	        						<div class="col-md-4">
		                          	  <label class="control-label " for="plandata">{{ 'label.activation.plan' | translate }}</label>
		                             </div>
	                            <div class="col-md-8">
	                          		<select data-ng-model="plandata"  class="form-control" name="planCode" data-ng-options="plandata as getPlan(plandata.planCode, plandata.planDescription) for plandata in plandatas" data-ng-change='setBillingFrequency(plandata);setContractPeriodWhileCrm(plandata); planTransfer(plandata);' required>
	                        		<option value="">{{'label.select.one' | translate}}</option>
	                        		</select>
		                        	<span data-ng-show="planinfoform.planCode.$invalid">  <span class="error" data-ng-show="planinfoform.planCode.$error.req">Required Field</span> </span>
	                         	</div>
                              </div>
        					</div>
        					<div class="col-md-6">
        						<div class="form-group row">
	        						<div class="col-md-4">
		                          	  <label class="control-label " for="autoRenew">{{ 'label.order.autorenew' | translate }}</label>
		                             </div>
	                            <div class="col-md-8">
	                          		<input type="checkbox" id="autoRenewCheckbox" name="autoRenewCheckbox" data-bs-switch data-ng-model="formData.autoRenew" 
	                               		data-readonly="readonly" data-size="mini" data-on-color="success" data-off-color="danger"  data-on-text="Yes" data-off-text="N0" >
	                         	 </div>
                              </div>
        					</div>
        				</div>
        				
        			
				         
						<!--  <div class="col-sm-6">  -->
							
                       		<!-- <div class="form-group">
	                         	<label class="control-label " for="contractPeriod">{{ 'label.order.contractperiod' | translate }}</label>
	                       		<div class="col-sm-2" ng-hide="formData.isPrepaid == 'Y'">
	                          		<select ng-model="formData.contractPeriod"  class="form-control"
	                          			ng-options="subscriptiondata.id as subscriptiondata.Contractdata for subscriptiondata in subscriptiondatas" 
	                          				value="{{billRuleData.id}}"></select>
	                       		</div>
	                           <div class="col-sm-2" ng-show="formData.isPrepaid == 'Y'">
	                              <select ng-model="formData.contractPeriod"  class="form-control"
	                              	ng-options="paytermdata.duration as paytermdata.duration for paytermdata in paytermdatas" 
	                              		value="{{billRuleData.id}}"></select>
	                           </div>
	                           
	                           <div ng-hide="isPrepaidPlan == 'Y'">
		                          	<label class="control-label " for="paytermCode">{{ 'label.order.billingfrequency' | translate }}</label>
		                            <div class="col-sm-2">
		                            	<select ng-model="formData.paytermCode"  class="form-control"
		                            		ng-options="paytermdata.paytermtype as paytermdata.paytermtype for paytermdata in paytermdatas" 
		                            			value="{{billRuleData.id}}"></select>
		                            </div>
	                       		</div>
                        	</div> -->
	                        
						<!-- </div>2nd Col  End -->
			

					<ul class="btn-group-list text-right mt20 mb20">
						<li>
						   <a href='#/viewclient/id/{{clientId}}' class="btn btn-warning">Cancel</a>
						</li>
						<li>
						   <button id="submit" ng-click="submit()" class="btn btn-primary" ng-show="isnow">Save</button>
						</li>
						<li>
							<button  ng-click="submitschedule()"  class="btn btn-primary" ng-hide="isnow">Save Later</button>
						</li>
          			</ul>
      		</form>
    	</div>
    </div>
</div>

