<div class="content-container" data-ng-controller="PriceController">
	<ul class="breadcrumb">
        <li><a href="#organization">{{'label.anchor.masters' | translate}}</a></li>
        <li><a href="#plans">{{'label.plans' | translate}}</a></li>
        <li><a href="#viewplan/{{planId}}">{{planName}}</a></li>
        <li class="active">{{'label.viewprice' | translate}}&nbsp;&nbsp;</li>
    </ul>
    <div class="card">
    	<div class="content">
    		<div class="toolbar">
    			<div class="row">
    				<div class="col-md-6">
    					<input ng-autofocus="true" ng-model="filterText" type="text" ng-keyup="onFilter()" class="form-control" placeholder="{{'label.input.filterbyname' | translate}}">
    				</div>
    			</div>
    		</div>
    		<table class="table table-striped">
    			<thead>
    				<tr class="graybg">
    					<th>{{ 'table.price.productcode' | translate }}</th>
                		<th>{{ 'table.price.chargecode' | translate }}</th>
               			<th>{{ 'table.price.chargevaraint' | translate }}</th>
               			<th>{{ 'table.price.currency' | translate }}</th>
                		<th>{{ 'table.price.price' | translate }}</th>
                		<th>{{ 'table.price.region' | translate }}</th>
                		<th>{{ 'table.heading.actions' | translate }}</th>
    				</tr>
    			</thead>
    			<tbody>
    				<tr class="pointer-main" data-ng-repeat="price in prices | filter:filterText">
    					<td class="pointer" data-ng-click="routeTo(price.id,planId)">{{price.productCode}}</td>            
               		    <td class="pointer" data-ng-click="routeTo(price.id,planId)">{{price.chargeCode}}</td>        
                	    <td class="pointer" data-ng-click="routeTo(price.id,planId)">{{price.chargeVariant}}</td>
                	    <td class="pointer" data-ng-click="routeTo(price.id,planId)">{{price.currencyCode}}</td>
                		<td class="pointer" data-ng-click="routeTo(price.id,planId)">{{price.price}}</td>      
                		<td class="pointer" data-ng-click="routeTo(price.id,planId)">{{price.priceregion}}</td> 
                		<td>
                			<a has-permission = UPDATE_PRICE  href="#/editprice/{{price.id}}" uib-popover="Edit Price" popover-trigger="mouseenter" class="fa fa-edit"></a>&nbsp;
                			<a has-permission = DELETE_PRICE data-ng-click="deletePrice(price.id,planId)" uib-popover="Delete Price" popover-trigger="mouseenter"><i class="fa fa-times"></i></a>
                		</td>
    				</tr>
    			</tbody>
    		</table>
    	</div>
    </div>
     <script type="text/ng-template" id="delete.html">
                    <div class="modal-header silver">
                        <h3 class="bolder">{{'dialog.price.title.message' | translate}}</h3>
                    </div>
                    <div class="modal-body modal-small">
                       <h4>Are you sure?</h4>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-warning" ng-click="cancel()">{{'button.cancel' | translate}}</button>
                        <button class="btn btn-primary" ng-click="approve()">{{'label.confirm' | translate}}</button>
                    </div>
	</script>
</div>